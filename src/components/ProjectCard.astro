---
// src/components/ProjectCard.astro
// A reusable component for your project cards.
// It receives data (props) from index.astro.
export interface Props {
  category: string;
  title: string;
  tags: string[];
  slug: string;
}
const { category, title, tags, slug } = Astro.props;
---
<a href={`/work/${slug}`} class="project-card-link">
  <div class="project-card" data-hover="true">
      <div class="project-category">{category}</div>
      <h3 class="project-title">{title}</h3>
      <div class="project-tags">
          <!-- We loop over the tags array prop -->
          {tags.map(tag => (
              <span class="tag">{tag}</span>
          ))}
      </div>
  </div>
</a>

<style>
    .project-card-link {
      text-decoration: none;
      color: inherit;
      display: block;
    }

    /* All styles from .project-card and its children are scoped here */
    .project-card {
        position: relative;
        padding-left: 16px; 
        display: flex;
        flex-direction: column;
        gap: 8px;
        transition: background 0.2s ease-out, padding-left 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .project-card::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 2px;
        background: var(--black);
        transition: width 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .project-card::after {
        content: 'â†’';
        position: absolute;
        top: 50%;
        left: -10px; 
        transform: translateY(-50%);
        color: var(--red);
        font-family: 'JetBrains Mono', monospace;
        font-weight: 700;
        font-size: 1.5rem; 
        opacity: 0;
        transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .project-card-link:hover .project-card {
        background: rgba(0,0,0,0.1); 
        padding-left: 32px; /* Increased from 26px to prevent wrapping */
        padding-right: 8px; /* Add slight right padding too */
    }

    .project-card-link:hover .project-card::before {
        width: 18px; 
    }

    .project-card-link:hover .project-card::after {
        left: 2px; 
        opacity: 1;
    }
    
    .project-category {
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.75rem;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        
        font-weight: 400;
    }
    
    .project-title {
        font-family: 'Geist', sans-serif;
        font-weight: 700;
        font-size: clamp(1.5rem, 5svw, 3.125rem);
        line-height: 0.9;
        letter-spacing: -0.01em;
        margin-bottom: 0.5rem;
    }
    
    .project-title.is-long {
        font-size: clamp(1.375rem, 4.5svw, 2.75rem);
    }
    
    .project-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: auto; /* This pushes tags to the bottom */
    }
    
    .tag {
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.625rem;
        padding: 0.25rem 0.5rem;
        background: var(--black);
        color: var(--red);
        border-radius: 0.125rem;
        text-transform: uppercase;
        letter-spacing: 0.03em;
        font-weight: 500;
    }
</style>